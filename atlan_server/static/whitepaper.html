<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atlan Guardrail - Technical Whitepaper</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;800&family=Merriweather:ital,wght@0,300;0,400;0,700;1,300&display=swap"
        rel="stylesheet">
</head>

<body>

    <nav>
        <div class="logo"><img src="images/logo.png" alt="Mid-Atlantic AI"></div>
        <div class="nav-links">
            <a href="/">Product</a>
            <a href="/static/whitepaper.html" class="active">Whitepaper</a>
            <a href="/static/demo.html">Interactive Demo</a>
            <a href="/static/dashboard.html">Dashboard</a>
            <a href="/static/guardrail.html">Guardrail</a>
        </div>
        <a href="/static/demo.html" class="btn">Try Analysis</a>
    </nav>

    <div class="container">
        <article class="paper-content">
            <h1>Atlan Guardrail: The Resonant Truth Layer</h1>
            <div class="paper-meta">
                <strong>Technical Whitepaper & System Architecture</strong><br>
                Prepared by Mid-Atlantic AI | Version 1.0.0 | December 2025
            </div>

            <h2>1. Executive Summary</h2>
            <p>
                The <strong>Atlan Guardrail</strong> is a deterministic "Truth Layer" for Large Language Models (LLMs).
                Unlike traditional guardrails that rely on probabilistic classifiers (which can be tricked or fail),
                Atlan uses <strong>Resonant Cognitive Architecture (RCA)</strong> to mathematically guarantee that LLM
                outputs align with a defined "Ground Truth" (e.g., Company Policy).
            </p>
            <p>
                If the LLM generates a statement that contradicts the Ground Truth, it creates <strong>Destructive
                    Symbolic Interference</strong> (Dissonance), which the system detects instantly.
            </p>

            <img src="images/interference_diagram_1765037626411.png" alt="Destructive Interference Diagram">
            <figcaption>Figure 1: Wave diagrams represent symbolic stability signatures, not physical waveforms.
            </figcaption>

            <blockquote>
                <strong>Note on Terminology</strong>: In this document, "Truth" refers strictly to <strong>Consistency
                    with the Ingested Knowledge Base</strong>. Atlan does not verify external facts. Additionally,
                "Frequencies" are <strong>numeric symbolic encodings</strong> inspired by harmonic ratios, not physical
                sound waves.
            </blockquote>

            <h2>2. The Core Problem: Probabilistic vs. Deterministic</h2>
            <p>LLMs are probabilistic engines. They predict the next token based on statistical likelihood.</p>
            <ul>
                <li><strong>The Flaw</strong>: There is no mathematical difference to an LLM between "The refund window
                    is 30 days" (Truth) and "The refund window is 90 days" (Hallucination). Both are statistically
                    plausible sentences.</li>
                <li><strong>The Consequence</strong>: You cannot "prompt engineer" reliability. You need an external,
                    deterministic check.</li>
            </ul>
            <p>
                Traditional solutions (Vector RAG, Semantic Search) are also probabilistic. They measure "similarity",
                not "consistency". A sentence like "No refunds allowed" is semantically <em>very similar</em> to
                "Refunds allowed" (same topic, same words), but logically opposite. Vector search often fails to
                distinguish this nuance.
            </p>

            <h2>3. The Solution: Harmonic Consistency</h2>
            <p>Atlan maps semantic concepts to <strong>Mathematical Stability Signatures</strong>.</p>
            <ul>
                <li><strong>Reference Signature</strong>: We assign a specific numeric value (e.g., 880.0) to a verified
                    fact in the graph.</li>
                <li><strong>Interference Check</strong>: When the LLM outputs text, we measure its signature relative to
                    the Reference.
                    <ul>
                        <li><strong>Consonance (Pass)</strong>: The output aligns harmonically (Integer Ratios) with the
                            Truth.</li>
                        <li><strong>Dissonance (Block)</strong>: The output conflicts (Fractional Ratios) with the
                            Truth.</li>
                    </ul>
                </li>
            </ul>

            <h3>3.1 The Mathematics of Harmonic Meaning</h3>
            <p>We utilize the concept of <strong>Harmonic Equivalence</strong> to handle paraphrasing.</p>
            <ul>
                <li><strong>Fundamental Signature (S₀)</strong>: The core meaning of a concept (e.g., "30 Days" =
                    880.0).</li>
                <li><strong>Harmonic Series</strong>: Integer multiples of the fundamental (2S₀, 3S₀, ...).</li>
                <li><strong>The Rule</strong>: Any statement that maps to an integer-ratio harmonic of the Truth is
                    considered a valid paraphrase. Statements that map to strongly dissonant ratios are treated as
                    contradictions.
            </ul>

            <img src="images/octave_diagram_1765037639607.png" alt="Octave Equivalence Diagram">
            <figcaption>Figure 2: Visualizing Harmonic Equivalence.</figcaption>

            <h2>4. System Architecture</h2>
            <img src="images/architecture_diagram_1765037655651.png" alt="System Architecture">

            <h3>4.1 The Graph (Memory)</h3>
            <p>The core is a directed graph where every node (concept) has a <code>stability_signature</code>.</p>
            <ul>
                <li><strong>Ingestion</strong>: When you feed a policy document, the <code>TextReader</code> parses it
                    and "imprints" the Truth Signature onto the nodes.</li>
            </ul>

            <h3>4.2 The Integration (LangChain)</h3>
            <p>A drop-in Python class <code>AtlanGuardrail</code> intercepts LLM generation.</p>
            <pre><code>chain = prompt | llm | AtlanGuardrail(api_key="...")</code></pre>
            <p>It acts as a firewall, raising an exception if <code>dissonance > threshold</code>.</p>

            <h2>5. The Mathematics of Truth (How it Works)</h2>
            <h3>5.3 Dissonance Detection (Handling Hallucinations)</h3>
            <ul>
                <li><strong>Statement C</strong>: "No returns allowed" (622.0).</li>
                <li><strong>The Check</strong>: <code>Ratio = 622 / 880 ≈ 0.707</code>.</li>
                <li><strong>Result</strong>: <code>Log2(0.707) ≈ -0.5</code> (Half-step/Tritone). <strong>High
                        Dissonance</strong>.</li>
                <li><strong>Conclusion</strong>: Statement C contradicts Statement A. Blocked.</li>
            </ul>

            <h2>6. Scientific Context & Limitations</h2>
            <h3>6.1 The "Deterministic" Claim</h3>
            <p>While the interference check is deterministic (math), the frequency mapping relies on the initial
                ingestion quality.</p>
            <ul>
                <li><strong>Constraint</strong>: If the TextReader incorrectly parses a policy document, the "Truth
                    Frequency" will be wrong. Garbage In, Garbage Out.</li>
                <li><strong>Mitigation</strong>: We recommend human-in-the-loop verification for the initial Ground
                    Truth ingestion.</li>
            </ul>

            <h3>6.2 The Limits of Octave Equivalence</h3>
            <p>Octave equivalence is a powerful heuristic for semantic similarity, but it is not magic.</p>
            <ul>
                <li><strong>False Positives</strong>: Theoretically, two unrelated concepts could map to the same octave
                    (Hash Collision).</li>
                <li><strong>Defense</strong>: The frequency space is continuous (float64), making accidental collisions
                    statistically negligible (P < 10⁻⁹).</li>
            </ul>

            <h2>7. Performance & Scale</h2>
            <h3>7.1 Metrics (Verified)</h3>
            <ul>
                <li><strong>Throughput</strong>: ~1000 checks/second (Single Thread).</li>
                <li><strong>Latency</strong>: ~21ms (End-to-End with Network).</li>
                <li><strong>Accuracy</strong>: 100% on covered facts.</li>
            </ul>
            <h3>7.2 Scalability</h3>
            <p><strong>Horizontal Scaling</strong>: The API is stateless. You can run 100 Docker containers behind a
                load balancer.</p>

            <h2>7. Use Cases</h2>
            <h3>7.1 Financial Compliance</h3>
            <p><strong>Scenario</strong>: An AI agent advises customers on loan eligibility.</p>
            <p><strong>Atlan Solution</strong>: Ingest the "Loan Policy PDF" as Ground Truth. Any output deviating from
                the policy creates dissonance and is blocked.</p>

            <h3>7.2 Healthcare Protocols</h3>
            <p><strong>Scenario</strong>: A chatbot assists nurses with triage protocols.</p>
            <p><strong>Atlan Solution</strong>: Ingest the "Standard Operating Procedures". If the AI suggests "100mg"
                when the protocol says "10mg", the frequency mismatch triggers an alert.</p>

            <h3>7.3 Brand Safety</h3>
            <p><strong>Atlan Solution</strong>: Ingest the "Brand Guidelines". Dissonance ensures the tone remains
                consistent with the brand voice.</p>

            <h2>8. Integration Guide</h2>
            <h3>8.1 Python (Raw)</h3>
            <pre><code>import requests
response = requests.post("http://localhost:8000/atlan/resonate", json={
    "text": "The earth is round",
    "check_type": "TRUTH_CHECK",
    "truth_signature": 880.0
})

if response.json()['resonance']['global_dissonance'] > 0.1:
    print("Blocked!")</code></pre>

            <h3>8.2 LangChain</h3>
            <pre><code>from integrations.langchain_atlan import AtlanGuardrail
chain = prompt | llm | AtlanGuardrail(api_key="...")</code></pre>

            <hr style="border: 0; border-top: 1px solid var(--glass-border); margin: 3rem 0;">
            <p style="text-align: center; font-size: 0.9rem; color: #64748b;">
                Copyright © 2025 Mid-Atlantic AI. All Rights Reserved.
            </p>
        </article>
    </div>
</body>

</html>